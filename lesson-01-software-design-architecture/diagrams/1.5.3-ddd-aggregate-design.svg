<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="980px" height="751px" viewBox="-0.5 -0.5 980 751" content="&lt;mxfile&gt;&lt;diagram id=&quot;aggregate-design&quot; name=&quot;Aggregate Design Rules&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><clipPath id="mx-clip-122-200-232-18-0"><rect x="122" y="200" width="232" height="18"/></clipPath><clipPath id="mx-clip-122-218-232-18-0"><rect x="122" y="218" width="232" height="18"/></clipPath><clipPath id="mx-clip-122-236-232-18-0"><rect x="122" y="236" width="232" height="18"/></clipPath><clipPath id="mx-clip-122-254-232-20-0"><rect x="122" y="254" width="232" height="20"/></clipPath><clipPath id="mx-clip-82-323-152-18-0"><rect x="82" y="323" width="152" height="18"/></clipPath><clipPath id="mx-clip-82-341-152-18-0"><rect x="82" y="341" width="152" height="18"/></clipPath><clipPath id="mx-clip-82-359-152-20-0"><rect x="82" y="359" width="152" height="20"/></clipPath></defs><g><g><rect x="358" y="9" width="500" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 498px; height: 1px; padding-top: 29px; margin-left: 359px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 24px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">ðŸŽ¨ Aggregate Design - Rules and Best Practices</div></div></div></foreignObject><text x="608" y="36" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="24px" text-anchor="middle" font-weight="bold">ðŸŽ¨ Aggregate Design - Rules and Best Practic...</text></switch></g></g><g><rect x="358" y="44" width="500" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 498px; height: 1px; padding-top: 57px; margin-left: 359px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Aggregates define consistency and transactional boundaries in your domain</div></div></div></foreignObject><text x="608" y="60" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-style="italic">Aggregates define consistency and transactional boundaries in your domain</text></switch></g></g><g><rect x="138" y="79" width="200" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 94px; margin-left: 139px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Aggregate Structure</div></div></div></foreignObject><text x="238" y="99" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Aggregate Structure</text></switch></g></g><g><rect x="38" y="119" width="400" height="320" rx="48" ry="48" fill="#dae8fc" stroke="#6c8ebf" stroke-width="3" stroke-dasharray="9 9" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="138" y="129" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 139px; margin-left: 139px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">AGGREGATE BOUNDARY</div></div></div></foreignObject><text x="238" y="143" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">AGGREGATE BOUNDARY</text></switch></g></g><g><rect x="158" y="147" width="160" height="15" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 155px; margin-left: 159px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">(Consistency Boundary)</div></div></div></foreignObject><text x="238" y="158" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">(Consistency Boundary)</text></switch></g></g><g><path d="M 118 200 L 118 174 L 358 174 L 358 200" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 118 200 L 118 274 L 358 274 L 358 200" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 118 200 L 358 200" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="237.5" y="191.5">ðŸ“¦ Order (Aggregate Root)</text></g></g><g><rect x="118" y="200" width="240" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-122-200-232-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="212.5">- orderId: OrderId</text></g></g><g><rect x="118" y="218" width="240" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-122-218-232-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="230.5">- customerId: CustomerId (reference by ID)</text></g></g><g><rect x="118" y="236" width="240" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-122-236-232-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="248.5">- status: OrderStatus</text></g></g><g><rect x="118" y="254" width="240" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-style="italic" clip-path="url(#mx-clip-122-254-232-20-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="267.5">+ addItem(), confirm(), cancel()</text></g></g><g><path d="M 78 323 L 78 299 L 238 299 L 238 323" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 78 323 L 78 379 L 238 379 L 238 323" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 78 323 L 238 323" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="157.5" y="316.5">ðŸ“¦ OrderLine (Entity)</text></g></g><g><rect x="78" y="323" width="160" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-82-323-152-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="83.5" y="335.5">- lineId: LineId</text></g></g><g><rect x="78" y="341" width="160" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-82-341-152-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="83.5" y="353.5">- productId: ProductId</text></g></g><g><rect x="78" y="359" width="160" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-82-359-152-20-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="83.5" y="372.5">- quantity: int</text></g></g><g><rect x="258" y="299" width="80" height="35" rx="5.25" ry="5.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 317px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Money (VO)</div></div></div></foreignObject><text x="298" y="320" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Money (VO)</text></switch></g></g><g><rect x="258" y="344" width="80" height="35" rx="5.25" ry="5.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 362px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Address (VO)</div></div></div></foreignObject><text x="298" y="365" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Address (VO)</text></switch></g></g><g><rect x="348" y="299" width="80" height="35" rx="5.25" ry="5.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 317px; margin-left: 349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">DateRange (VO)</div></div></div></foreignObject><text x="388" y="320" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">DateRange (VO)</text></switch></g></g><g><path d="M 178 274 L 163.88 291.65" fill="none" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/><path d="M 158.88 297.9 L 158.26 292.27 L 163.88 291.65 L 164.51 297.27 Z" fill="#333333" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/></g><g><path d="M 298 274 L 298 299.59" fill="none" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/><path d="M 298 307.59 L 294 303.59 L 298 299.59 L 302 303.59 Z" fill="#333333" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/></g><g><path d="M 8 224 L 107.9 224" fill="none" stroke="#82b366" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 114.65 224 L 105.65 228.5 L 107.9 224 L 105.65 219.5 Z" fill="#82b366" stroke="#82b366" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(130, 179, 102), rgb(68, 110, 44)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="8" y="189" width="60" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 204px; margin-left: 9px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #82b366; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#82b366, #446e2c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Only entry<br />point</div></div></div></foreignObject><text x="38" y="207" fill="#82b366" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Only entry...</text></switch></g></g><g><path d="M 8 339 L 69.76 339" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="stroke" style="stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/><path d="M 75.76 339 L 67.76 343 L 69.76 339 L 67.76 335 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(184, 84, 80), rgb(215, 129, 126)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><rect x="28" y="324" width="25" height="25" rx="3.75" ry="3.75" fill="#f8cecc" stroke="none" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 337px; margin-left: 29px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #b85450; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#b85450, #d7817e); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">X</div></div></div></foreignObject><text x="41" y="341" fill="#b85450" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">X</text></switch></g></g><g><rect x="8" y="354" width="60" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 369px; margin-left: 9px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #b85450; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#b85450, #d7817e); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Direct access<br />forbidden</div></div></div></foreignObject><text x="38" y="372" fill="#b85450" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Direct access...</text></switch></g></g><g><rect x="478" y="79" width="500" height="380" rx="57" ry="57" fill="#f5f5f5" stroke="#666666" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><rect x="628" y="89" width="200" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 104px; margin-left: 629px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Aggregate Design Rules</div></div></div></foreignObject><text x="728" y="109" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Aggregate Design Rules</text></switch></g></g><g><ellipse cx="510.5" cy="141.5" rx="12.5" ry="12.5" fill="#6c8ebf" stroke="#6c8ebf" pointer-events="all" style="fill: light-dark(rgb(108, 142, 191), rgb(92, 121, 163)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 142px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="511" y="145" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">1</text></switch></g></g><g><rect x="533" y="129" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 142px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reference Other Aggregates by ID Only</div></div></div></foreignObject><text x="535" y="145" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Reference Other Aggregates by ID Only</text></switch></g></g><g><rect x="533" y="154" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 161px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Never hold direct object references to other aggregates.<br />Use IDs (CustomerId, ProductId) instead.</div></div></div></foreignObject><text x="535" y="171" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Never hold direct object references to other aggregates....</text></switch></g></g><g><ellipse cx="510.5" cy="206.5" rx="12.5" ry="12.5" fill="#82b366" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(130, 179, 102), rgb(68, 110, 44)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 207px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="511" y="210" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">2</text></switch></g></g><g><rect x="533" y="194" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 207px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">One Transaction per Aggregate</div></div></div></foreignObject><text x="535" y="210" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">One Transaction per Aggregate</text></switch></g></g><g><rect x="533" y="219" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 226px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Modify only one aggregate per transaction. Use eventual<br />consistency (Domain Events) for cross-aggregate updates.</div></div></div></foreignObject><text x="535" y="236" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Modify only one aggregate per transaction. Use eventual...</text></switch></g></g><g><ellipse cx="510.5" cy="271.5" rx="12.5" ry="12.5" fill="#d79b00" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(215, 155, 0), rgb(153, 101, 0)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 272px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">3</div></div></div></foreignObject><text x="511" y="275" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">3</text></switch></g></g><g><rect x="533" y="259" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 272px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Keep Aggregates Small</div></div></div></foreignObject><text x="535" y="275" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Keep Aggregates Small</text></switch></g></g><g><rect x="533" y="284" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 291px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Only include what's needed to enforce invariants.<br />Large aggregates cause lock contention and performance issues.</div></div></div></foreignObject><text x="535" y="301" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Only include what's needed to enforce invariants....</text></switch></g></g><g><ellipse cx="510.5" cy="336.5" rx="12.5" ry="12.5" fill="#b85450" stroke="#b85450" pointer-events="all" style="fill: light-dark(rgb(184, 84, 80), rgb(215, 129, 126)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 337px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="511" y="340" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">4</text></switch></g></g><g><rect x="533" y="324" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 337px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Protect Invariants Through the Root</div></div></div></foreignObject><text x="535" y="340" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Protect Invariants Through the Root</text></switch></g></g><g><rect x="533" y="349" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 356px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">All business rules are enforced by the Aggregate Root.<br />Internal entities cannot be modified directly from outside.</div></div></div></foreignObject><text x="535" y="366" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">All business rules are enforced by the Aggregate Root....</text></switch></g></g><g><ellipse cx="510.5" cy="401.5" rx="12.5" ry="12.5" fill="#9673a6" stroke="#9673a6" pointer-events="all" style="fill: light-dark(rgb(150, 115, 166), rgb(149, 119, 163)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 402px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">5</div></div></div></foreignObject><text x="511" y="405" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">5</text></switch></g></g><g><rect x="533" y="389" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 402px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Design Around Invariants</div></div></div></foreignObject><text x="535" y="405" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Design Around Invariants</text></switch></g></g><g><rect x="533" y="414" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 421px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Group entities/VOs based on business rules that must be<br />enforced together, not on data relationships.</div></div></div></foreignObject><text x="535" y="431" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Group entities/VOs based on business rules that must be...</text></switch></g></g><g><rect x="478" y="469" width="340" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 484px; margin-left: 479px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Example: Right vs Wrong Aggregate Design</div></div></div></foreignObject><text x="648" y="489" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Example: Right vs Wrong Aggregate Design</text></switch></g></g><g><rect x="38" y="509" width="440" height="240" rx="36" ry="36" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><rect x="158" y="519" width="200" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 532px; margin-left: 159px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #b85450; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#b85450, #d7817e); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">WRONG - Aggregate Too Large</div></div></div></foreignObject><text x="258" y="536" fill="#b85450" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">WRONG - Aggregate Too Large</text></switch></g></g><g><rect x="58" y="549" width="400" height="180" fill="#ffe6cc" stroke="#d79b00" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><rect x="208" y="564" width="100" height="30" rx="4.5" ry="4.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 579px; margin-left: 209px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Customer</div></div></div></foreignObject><text x="258" y="582" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Customer</text></switch></g></g><g><rect x="78" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 79px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Orders[]</div></div></div></foreignObject><text x="118" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Orders[]</text></switch></g></g><g><rect x="168" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 169px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Payments[]</div></div></div></foreignObject><text x="208" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Payments[]</text></switch></g></g><g><rect x="258" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Addresses[]</div></div></div></foreignObject><text x="298" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Addresses[]</text></switch></g></g><g><rect x="348" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Reviews[]</div></div></div></foreignObject><text x="388" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Reviews[]</text></switch></g></g><g><rect x="78" y="644" width="180" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 173px; height: 1px; padding-top: 654px; margin-left: 85px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Problems:<br />â€¢ Huge lock scope<br />â€¢ Load entire graph<br />â€¢ Can't scale orders independently<br />â€¢ High contention</div></div></div></foreignObject><text x="85" y="663" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px">Problems:...</text></switch></g></g><g><rect x="518" y="509" width="460" height="200" rx="30" ry="30" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="648" y="519" width="200" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 532px; margin-left: 649px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #82b366; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#82b366, #446e2c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">CORRECT - Smaller Aggregates</div></div></div></foreignObject><text x="748" y="536" fill="#82b366" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">CORRECT - Smaller Aggregates</text></switch></g></g><g><rect x="538" y="549" width="100" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="553" y="564" width="70" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 577px; margin-left: 554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Customer</div></div></div></foreignObject><text x="588" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Customer</text></switch></g></g><g><rect x="553" y="594" width="70" height="20" rx="3" ry="3" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 604px; margin-left: 554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Profile (VO)</div></div></div></foreignObject><text x="588" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">Profile (VO)</text></switch></g></g><g><rect x="653" y="549" width="100" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="678" y="564" width="60" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 577px; margin-left: 679px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Order</div></div></div></foreignObject><text x="708" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Order</text></switch></g></g><g><rect x="678" y="594" width="60" height="20" rx="3" ry="3" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 604px; margin-left: 679px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Lines[]</div></div></div></foreignObject><text x="708" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">Lines[]</text></switch></g></g><g><rect x="768" y="549" width="90" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="783" y="564" width="60" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 577px; margin-left: 784px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Payment</div></div></div></foreignObject><text x="813" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Payment</text></switch></g></g><g><rect x="783" y="594" width="60" height="20" rx="3" ry="3" fill="#f5f5f5" stroke="#666666" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 604px; margin-left: 784px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">orderId</div></div></div></foreignObject><text x="813" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">orderId</text></switch></g></g><g><rect x="873" y="549" width="90" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="888" y="564" width="60" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 577px; margin-left: 889px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Review</div></div></div></foreignObject><text x="918" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Review</text></switch></g></g><g><rect x="888" y="594" width="60" height="20" rx="3" ry="3" fill="#f5f5f5" stroke="#666666" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 604px; margin-left: 889px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">customerId</div></div></div></foreignObject><text x="918" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">customerId</text></switch></g></g><g><path d="M 678 576.5 L 644.37 576.08" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 639.12 576.01 L 646.16 572.6 L 644.37 576.08 L 646.07 579.6 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(102, 102, 102), rgb(149, 149, 149)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><rect x="643" y="564" width="30" height="15" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 572px; margin-left: 644px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 7px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">by ID</div></div></div></foreignObject><text x="658" y="574" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="7px" text-anchor="middle">by ID</text></switch></g></g><g><rect x="538" y="629" width="150" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 143px; height: 1px; padding-top: 639px; margin-left: 545px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Benefits:<br />â€¢ Independent scaling<br />â€¢ Smaller transactions<br />â€¢ Less lock contention<br />â€¢ Clear boundaries</div></div></div></foreignObject><text x="545" y="648" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px">Benefits:...</text></switch></g></g><g><rect x="708" y="644" width="150" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 664px; margin-left: 709px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Domain Events for<br />cross-aggregate communication</div></div></div></foreignObject><text x="783" y="667" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle">Domain Events for...</text></switch></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>