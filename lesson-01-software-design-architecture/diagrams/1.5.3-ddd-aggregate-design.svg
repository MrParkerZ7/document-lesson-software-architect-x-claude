<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="980px" height="715px" viewBox="-0.5 -0.5 980 715" content="&lt;mxfile&gt;&lt;diagram id=&quot;aggregate-design&quot; name=&quot;Aggregate Design Rules&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><clipPath id="mx-clip-122-200-232-18-0"><rect x="122" y="200" width="232" height="18"/></clipPath><clipPath id="mx-clip-122-218-232-18-0"><rect x="122" y="218" width="232" height="18"/></clipPath><clipPath id="mx-clip-122-236-232-18-0"><rect x="122" y="236" width="232" height="18"/></clipPath><clipPath id="mx-clip-122-254-232-20-0"><rect x="122" y="254" width="232" height="20"/></clipPath><clipPath id="mx-clip-82-323-152-18-0"><rect x="82" y="323" width="152" height="18"/></clipPath><clipPath id="mx-clip-82-341-152-18-0"><rect x="82" y="341" width="152" height="18"/></clipPath><clipPath id="mx-clip-82-359-152-20-0"><rect x="82" y="359" width="152" height="20"/></clipPath></defs><g><g><rect x="358" y="9" width="500" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 498px; height: 1px; padding-top: 29px; margin-left: 359px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 24px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Aggregate Design - Rules and Best Practices</div></div></div></foreignObject><text x="608" y="36" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="24px" text-anchor="middle" font-weight="bold">Aggregate Design - Rules and Best Practices</text></switch></g></g><g><rect x="358" y="44" width="500" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 498px; height: 1px; padding-top: 57px; margin-left: 359px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Aggregates define consistency and transactional boundaries in your domain</div></div></div></foreignObject><text x="608" y="60" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-style="italic">Aggregates define consistency and transactional boundaries in your domain</text></switch></g></g><g><rect x="138" y="79" width="200" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 94px; margin-left: 139px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Aggregate Structure</div></div></div></foreignObject><text x="238" y="99" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Aggregate Structure</text></switch></g></g><g><rect x="38" y="119" width="400" height="320" rx="48" ry="48" fill="#dae8fc" stroke="#6c8ebf" stroke-width="3" stroke-dasharray="9 9" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="138" y="129" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 139px; margin-left: 139px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">AGGREGATE BOUNDARY</div></div></div></foreignObject><text x="238" y="143" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">AGGREGATE BOUNDARY</text></switch></g></g><g><rect x="158" y="147" width="160" height="15" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 155px; margin-left: 159px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">(Consistency Boundary)</div></div></div></foreignObject><text x="238" y="158" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">(Consistency Boundary)</text></switch></g></g><g><path d="M 118 200 L 118 174 L 358 174 L 358 200" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 118 200 L 118 274 L 358 274 L 358 200" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 118 200 L 358 200" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="237.5" y="191.5">Order (Aggregate Root)</text></g></g><g><rect x="118" y="200" width="240" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-122-200-232-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="212.5">- orderId: OrderId</text></g></g><g><rect x="118" y="218" width="240" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-122-218-232-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="230.5">- customerId: CustomerId (reference by ID)</text></g></g><g><rect x="118" y="236" width="240" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-122-236-232-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="248.5">- status: OrderStatus</text></g></g><g><rect x="118" y="254" width="240" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-style="italic" clip-path="url(#mx-clip-122-254-232-20-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="123.5" y="267.5">+ addItem(), confirm(), cancel()</text></g></g><g><path d="M 78 323 L 78 299 L 238 299 L 238 323" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 78 323 L 78 379 L 238 379 L 238 323" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 78 323 L 238 323" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="157.5" y="316.5">OrderLine (Entity)</text></g></g><g><rect x="78" y="323" width="160" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-82-323-152-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="83.5" y="335.5">- lineId: LineId</text></g></g><g><rect x="78" y="341" width="160" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-82-341-152-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="83.5" y="353.5">- productId: ProductId</text></g></g><g><rect x="78" y="359" width="160" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-82-359-152-20-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="83.5" y="372.5">- quantity: int</text></g></g><g><rect x="258" y="299" width="80" height="35" rx="5.25" ry="5.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 317px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Money (VO)</div></div></div></foreignObject><text x="298" y="320" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Money (VO)</text></switch></g></g><g><rect x="258" y="344" width="80" height="35" rx="5.25" ry="5.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 362px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Address (VO)</div></div></div></foreignObject><text x="298" y="365" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Address (VO)</text></switch></g></g><g><rect x="348" y="299" width="80" height="35" rx="5.25" ry="5.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 317px; margin-left: 349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">DateRange (VO)</div></div></div></foreignObject><text x="388" y="320" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">DateRange (VO)</text></switch></g></g><g><path d="M 178 274 L 163.88 291.65" fill="none" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/><path d="M 158.88 297.9 L 158.26 292.27 L 163.88 291.65 L 164.51 297.27 Z" fill="#333333" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/></g><g><path d="M 298 274 L 298 299.59" fill="none" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/><path d="M 298 307.59 L 294 303.59 L 298 299.59 L 302 303.59 Z" fill="#333333" stroke="#333333" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); stroke: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));"/></g><g><path d="M 8 224 L 107.9 224" fill="none" stroke="#82b366" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 114.65 224 L 105.65 228.5 L 107.9 224 L 105.65 219.5 Z" fill="#82b366" stroke="#82b366" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(130, 179, 102), rgb(68, 110, 44)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="8" y="189" width="60" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 204px; margin-left: 9px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #82b366; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#82b366, #446e2c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Only entry<br />point</div></div></div></foreignObject><text x="38" y="207" fill="#82b366" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Only entry...</text></switch></g></g><g><path d="M 8 339 L 69.76 339" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="stroke" style="stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/><path d="M 75.76 339 L 67.76 343 L 69.76 339 L 67.76 335 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(184, 84, 80), rgb(215, 129, 126)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><rect x="28" y="324" width="25" height="25" rx="3.75" ry="3.75" fill="#f8cecc" stroke="none" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 337px; margin-left: 29px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #b85450; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#b85450, #d7817e); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">X</div></div></div></foreignObject><text x="41" y="341" fill="#b85450" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">X</text></switch></g></g><g><rect x="8" y="354" width="60" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 369px; margin-left: 9px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #b85450; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#b85450, #d7817e); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Direct access<br />forbidden</div></div></div></foreignObject><text x="38" y="372" fill="#b85450" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Direct access...</text></switch></g></g><g><rect x="478" y="79" width="500" height="380" rx="57" ry="57" fill="#f5f5f5" stroke="#666666" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><rect x="628" y="89" width="200" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 104px; margin-left: 629px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Aggregate Design Rules</div></div></div></foreignObject><text x="728" y="109" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Aggregate Design Rules</text></switch></g></g><g><ellipse cx="510.5" cy="141.5" rx="12.5" ry="12.5" fill="#6c8ebf" stroke="#6c8ebf" pointer-events="all" style="fill: light-dark(rgb(108, 142, 191), rgb(92, 121, 163)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 142px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="511" y="145" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">1</text></switch></g></g><g><rect x="533" y="129" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 142px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reference Other Aggregates by ID Only</div></div></div></foreignObject><text x="535" y="145" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Reference Other Aggregates by ID Only</text></switch></g></g><g><rect x="533" y="154" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 161px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Never hold direct object references to other aggregates.<br />Use IDs (CustomerId, ProductId) instead.</div></div></div></foreignObject><text x="535" y="171" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Never hold direct object references to other aggregates....</text></switch></g></g><g><ellipse cx="510.5" cy="206.5" rx="12.5" ry="12.5" fill="#82b366" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(130, 179, 102), rgb(68, 110, 44)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 207px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="511" y="210" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">2</text></switch></g></g><g><rect x="533" y="194" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 207px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">One Transaction per Aggregate</div></div></div></foreignObject><text x="535" y="210" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">One Transaction per Aggregate</text></switch></g></g><g><rect x="533" y="219" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 226px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Modify only one aggregate per transaction. Use eventual<br />consistency (Domain Events) for cross-aggregate updates.</div></div></div></foreignObject><text x="535" y="236" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Modify only one aggregate per transaction. Use eventual...</text></switch></g></g><g><ellipse cx="510.5" cy="271.5" rx="12.5" ry="12.5" fill="#d79b00" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(215, 155, 0), rgb(153, 101, 0)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 272px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">3</div></div></div></foreignObject><text x="511" y="275" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">3</text></switch></g></g><g><rect x="533" y="259" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 272px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Keep Aggregates Small</div></div></div></foreignObject><text x="535" y="275" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Keep Aggregates Small</text></switch></g></g><g><rect x="533" y="284" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 291px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Only include what's needed to enforce invariants.<br />Large aggregates cause lock contention and performance issues.</div></div></div></foreignObject><text x="535" y="301" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Only include what's needed to enforce invariants....</text></switch></g></g><g><ellipse cx="510.5" cy="336.5" rx="12.5" ry="12.5" fill="#b85450" stroke="#b85450" pointer-events="all" style="fill: light-dark(rgb(184, 84, 80), rgb(215, 129, 126)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 337px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="511" y="340" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">4</text></switch></g></g><g><rect x="533" y="324" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 337px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Protect Invariants Through the Root</div></div></div></foreignObject><text x="535" y="340" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Protect Invariants Through the Root</text></switch></g></g><g><rect x="533" y="349" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 356px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">All business rules are enforced by the Aggregate Root.<br />Internal entities cannot be modified directly from outside.</div></div></div></foreignObject><text x="535" y="366" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">All business rules are enforced by the Aggregate Root....</text></switch></g></g><g><ellipse cx="510.5" cy="401.5" rx="12.5" ry="12.5" fill="#9673a6" stroke="#9673a6" pointer-events="all" style="fill: light-dark(rgb(150, 115, 166), rgb(149, 119, 163)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 23px; height: 1px; padding-top: 402px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">5</div></div></div></foreignObject><text x="511" y="405" fill="#ffffff" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">5</text></switch></g></g><g><rect x="533" y="389" width="280" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 402px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Design Around Invariants</div></div></div></foreignObject><text x="535" y="405" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" font-weight="bold">Design Around Invariants</text></switch></g></g><g><rect x="533" y="414" width="420" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 421px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Group entities/VOs based on business rules that must be<br />enforced together, not on data relationships.</div></div></div></foreignObject><text x="535" y="431" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px">Group entities/VOs based on business rules that must be...</text></switch></g></g><g><rect x="478" y="469" width="340" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 484px; margin-left: 479px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Example: Right vs Wrong Aggregate Design</div></div></div></foreignObject><text x="648" y="489" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Example: Right vs Wrong Aggregate Design</text></switch></g></g><g><rect x="38" y="509" width="440" height="200" rx="30" ry="30" fill="#f8cecc" stroke="#b85450" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><rect x="158" y="519" width="200" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 532px; margin-left: 159px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #b85450; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#b85450, #d7817e); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">WRONG - Aggregate Too Large</div></div></div></foreignObject><text x="258" y="536" fill="#b85450" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">WRONG - Aggregate Too Large</text></switch></g></g><g><rect x="58" y="549" width="400" height="140" fill="#ffe6cc" stroke="#d79b00" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><rect x="208" y="564" width="100" height="30" rx="4.5" ry="4.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 579px; margin-left: 209px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Customer</div></div></div></foreignObject><text x="258" y="582" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Customer</text></switch></g></g><g><rect x="78" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 79px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Orders[]</div></div></div></foreignObject><text x="118" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Orders[]</text></switch></g></g><g><rect x="168" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 169px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Payments[]</div></div></div></foreignObject><text x="208" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Payments[]</text></switch></g></g><g><rect x="258" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Addresses[]</div></div></div></foreignObject><text x="298" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Addresses[]</text></switch></g></g><g><rect x="348" y="609" width="80" height="25" rx="3.75" ry="3.75" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 622px; margin-left: 349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Reviews[]</div></div></div></foreignObject><text x="388" y="625" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Reviews[]</text></switch></g></g><g><rect x="78" y="644" width="180" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 173px; height: 1px; padding-top: 654px; margin-left: 85px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Problems:<br /> Huge lock scope<br /> Load entire graph<br /> Can't scale orders independently<br /> High contention</div></div></div></foreignObject><text x="85" y="663" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px">Problems:...</text></switch></g></g><g><rect x="518" y="509" width="460" height="200" rx="30" ry="30" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="648" y="519" width="200" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 532px; margin-left: 649px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #82b366; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#82b366, #446e2c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">CORRECT - Smaller Aggregates</div></div></div></foreignObject><text x="748" y="536" fill="#82b366" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">CORRECT - Smaller Aggregates</text></switch></g></g><g><rect x="538" y="549" width="100" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="553" y="564" width="70" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 577px; margin-left: 554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Customer</div></div></div></foreignObject><text x="588" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Customer</text></switch></g></g><g><rect x="553" y="594" width="70" height="20" rx="3" ry="3" fill="#d5e8d4" stroke="#82b366" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 604px; margin-left: 554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Profile (VO)</div></div></div></foreignObject><text x="588" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">Profile (VO)</text></switch></g></g><g><rect x="653" y="549" width="100" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="678" y="564" width="60" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 577px; margin-left: 679px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Order</div></div></div></foreignObject><text x="708" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Order</text></switch></g></g><g><rect x="678" y="594" width="60" height="20" rx="3" ry="3" fill="#ffe6cc" stroke="#d79b00" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 604px; margin-left: 679px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Lines[]</div></div></div></foreignObject><text x="708" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">Lines[]</text></switch></g></g><g><rect x="768" y="549" width="90" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="783" y="564" width="60" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 577px; margin-left: 784px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Payment</div></div></div></foreignObject><text x="813" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Payment</text></switch></g></g><g><rect x="783" y="594" width="60" height="20" rx="3" ry="3" fill="#f5f5f5" stroke="#666666" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 604px; margin-left: 784px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">orderId</div></div></div></foreignObject><text x="813" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">orderId</text></switch></g></g><g><rect x="873" y="549" width="90" height="70" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="888" y="564" width="60" height="25" rx="3.75" ry="3.75" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 577px; margin-left: 889px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Review</div></div></div></foreignObject><text x="918" y="579" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Review</text></switch></g></g><g><rect x="888" y="594" width="60" height="20" rx="3" ry="3" fill="#f5f5f5" stroke="#666666" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 604px; margin-left: 889px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 8px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">customerId</div></div></div></foreignObject><text x="918" y="606" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="8px" text-anchor="middle">customerId</text></switch></g></g><g><path d="M 678 576.5 L 644.37 576.08" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/><path d="M 639.12 576.01 L 646.16 572.6 L 644.37 576.08 L 646.07 579.6 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(102, 102, 102), rgb(149, 149, 149)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><rect x="643" y="564" width="30" height="15" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 572px; margin-left: 644px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 7px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">by ID</div></div></div></foreignObject><text x="658" y="574" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="7px" text-anchor="middle">by ID</text></switch></g></g><g><rect x="538" y="629" width="150" height="70" rx="10.5" ry="10.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 143px; height: 1px; padding-top: 639px; margin-left: 545px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Benefits:<br /> Independent scaling<br /> Smaller transactions<br /> Less lock contention<br /> Clear boundaries</div></div></div></foreignObject><text x="545" y="648" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px">Benefits:...</text></switch></g></g><g><rect x="708" y="644" width="150" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 664px; margin-left: 709px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Domain Events for<br />cross-aggregate communication</div></div></div></foreignObject><text x="783" y="667" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle">Domain Events for...</text></switch></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>