<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1102px" height="690px" viewBox="-0.5 -0.5 1102 690" content="&lt;mxfile&gt;&lt;diagram id=&quot;domain-events&quot; name=&quot;Domain Events Flow&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><clipPath id="mx-clip-70-196-172-18-0"><rect x="70" y="196" width="172" height="18"/></clipPath><clipPath id="mx-clip-70-214-172-18-0"><rect x="70" y="214" width="172" height="18"/></clipPath><clipPath id="mx-clip-70-232-172-10-0"><rect x="70" y="232" width="172" height="10"/></clipPath></defs><g><g><rect x="321" y="9" width="500" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 498px; height: 1px; padding-top: 29px; margin-left: 322px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 24px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Domain Events - Cross-Aggregate Communication</div></div></div></foreignObject><text x="571" y="36" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="24px" text-anchor="middle" font-weight="bold">Domain Events - Cross-Aggregate Communicat...</text></switch></g></g><g><rect x="271" y="44" width="600" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 598px; height: 1px; padding-top: 57px; margin-left: 272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Enabling eventual consistency between aggregates while maintaining transactional boundaries</div></div></div></foreignObject><text x="571" y="60" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-style="italic">Enabling eventual consistency between aggregates while maintaining transactional boundaries</text></switch></g></g><g><rect x="1" y="89" width="350" height="160" rx="24" ry="24" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><rect x="81" y="99" width="190" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 114px; margin-left: 82px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #d6b656; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#d6b656, #6d5100); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">What is a Domain Event?</div></div></div></foreignObject><text x="176" y="119" fill="#d6b656" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">What is a Domain Event?</text></switch></g></g><g><rect x="21" y="134" width="310" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 308px; height: 1px; padding-top: 152px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">A record of something significant that happened<br />in the domain. It's an immutable fact about the past.</div></div></div></foreignObject><text x="176" y="155" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">A record of something significant that happened...</text></switch></g></g><g><path d="M 66 196 L 66 174 L 246 174 L 246 196" fill="#ffffff" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 66 196 L 66 242 L 246 242 L 246 196" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 66 196 L 246 196" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="155.5" y="191.5">OrderPlacedEvent</text></g></g><g><rect x="66" y="196" width="180" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-70-196-172-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="71.5" y="208.5">+ orderId: OrderId</text></g></g><g><rect x="66" y="214" width="180" height="18" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-70-214-172-18-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="71.5" y="226.5">+ occurredAt: DateTime</text></g></g><g><rect x="66" y="232" width="180" height="10" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="#000000" font-family="&quot;Helvetica&quot;" clip-path="url(#mx-clip-70-232-172-10-0)" font-size="10px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="71.5" y="242.5">+ items: List&lt;OrderItem&gt;</text></g></g><g><rect x="381" y="89" width="280" height="160" rx="24" ry="24" fill="#f5f5f5" stroke="#666666" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><rect x="441" y="99" width="160" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 112px; margin-left: 442px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Event Characteristics</div></div></div></foreignObject><text x="521" y="116" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">Event Characteristics</text></switch></g></g><g><rect x="396" y="129" width="250" height="110" rx="16.5" ry="16.5" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 141px; margin-left: 408px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">✓ Immutable (never changes)<br />✓ Past tense naming (OrderPlaced, not PlaceOrder)<br />✓ Contains all relevant data<br />✓ Timestamp of when it occurred<br />✓ Can be stored and replayed<br />✓ Decouples producer from consumers</div></div></div></foreignObject><text x="408" y="151" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px">✓ Immutable (never changes)...</text></switch></g></g><g><rect x="691" y="89" width="250" height="160" rx="24" ry="24" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="751" y="99" width="130" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 112px; margin-left: 752px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 14px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Naming Convention</div></div></div></foreignObject><text x="816" y="116" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="14px" text-anchor="middle" font-weight="bold">Naming Convention</text></switch></g></g><g><rect x="706" y="129" width="220" height="110" rx="16.5" ry="16.5" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 208px; height: 1px; padding-top: 141px; margin-left: 718px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Entity + Past Tense Verb<br /><br />• OrderPlaced<br />• PaymentReceived<br />• InventoryReserved<br />• ShipmentDispatched<br />• CustomerRegistered<br />• AccountDeactivated</div></div></div></foreignObject><text x="718" y="151" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px">Entity + Past Tense Verb...</text></switch></g></g><g><rect x="401" y="274" width="300" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 289px; margin-left: 402px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 18px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Domain Event Flow Pattern</div></div></div></foreignObject><text x="551" y="294" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="18px" text-anchor="middle" font-weight="bold">Domain Event Flow Pattern</text></switch></g></g><g><rect x="1" y="329" width="200" height="150" rx="22.5" ry="22.5" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="41" y="339" width="120" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 349px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Order Aggregate</div></div></div></foreignObject><text x="101" y="353" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Order Aggregate</text></switch></g></g><g><rect x="41" y="369" width="100" height="35" rx="5.25" ry="5.25" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 387px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Order (Root)</div></div></div></foreignObject><text x="91" y="390" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Order (Root)</text></switch></g></g><g><rect x="16" y="409" width="160" height="60" rx="9" ry="9" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 153px; height: 1px; padding-top: 419px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Courier New&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">place() {<br />  // business logic<br />  registerEvent(new<br />    OrderPlacedEvent(...))<br />}</div></div></div></foreignObject><text x="23" y="428" fill="light-dark(#000000, #ffffff)" font-family="&quot;Courier New&quot;" font-size="9px">place() {...</text></switch></g></g><g><rect x="271" y="379" width="140" height="40" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 399px; margin-left: 272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">OrderPlacedEvent</div></div></div></foreignObject><text x="341" y="402" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle" font-weight="bold">OrderPlacedEvent</text></switch></g></g><g><path d="M 141 386.5 L 262.8 398.21" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 268.77 398.79 L 260.43 402 L 262.8 398.21 L 261.19 394.04 Z" fill="#d6b656" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(214, 182, 86), rgb(109, 81, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><rect x="201" y="364" width="50" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 374px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #d6b656; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#d6b656, #6d5100); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">publishes</div></div></div></foreignObject><text x="226" y="377" fill="#d6b656" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">publishes</text></switch></g></g><g><rect x="481" y="379" width="180" height="40" fill="#e1d5e7" stroke="#9673a6" pointer-events="all" style="fill: light-dark(rgb(225, 213, 231), rgb(57, 47, 63)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 399px; margin-left: 482px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Event Bus / Message Broker</div></div></div></foreignObject><text x="571" y="402" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle" font-weight="bold">Event Bus / Message Broker</text></switch></g></g><g><path d="M 411 399 L 472.76 399" fill="none" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/><path d="M 478.76 399 L 470.76 403 L 472.76 399 L 470.76 395 Z" fill="#9673a6" stroke="#9673a6" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(150, 115, 166), rgb(149, 119, 163)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><rect x="741" y="299" width="200" height="100" rx="15" ry="15" fill="#ffe6cc" stroke="#d79b00" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(255, 230, 204), rgb(54, 33, 10)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><rect x="776" y="309" width="130" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 319px; margin-left: 777px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #d79b00; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#d79b00, #996500); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Inventory Aggregate</div></div></div></foreignObject><text x="841" y="323" fill="#d79b00" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Inventory Aggregate</text></switch></g></g><g><rect x="786" y="339" width="100" height="30" rx="4.5" ry="4.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 354px; margin-left: 787px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Inventory (Root)</div></div></div></foreignObject><text x="836" y="357" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle" font-weight="bold">Inventory (Root)</text></switch></g></g><g><rect x="786" y="374" width="100" height="20" rx="3" ry="3" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 384px; margin-left: 787px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">reserveStock()</div></div></div></foreignObject><text x="836" y="387" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle">reserveStock()</text></switch></g></g><g><rect x="741" y="419" width="200" height="70" rx="10.5" ry="10.5" fill="#d5e8d4" stroke="#82b366" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="776" y="429" width="130" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 439px; margin-left: 777px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #82b366; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#82b366, #446e2c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Notification Service</div></div></div></foreignObject><text x="841" y="443" fill="#82b366" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Notification Service</text></switch></g></g><g><rect x="786" y="454" width="100" height="20" rx="3" ry="3" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 464px; margin-left: 787px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sendConfirmation()</div></div></div></foreignObject><text x="836" y="467" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle">sendConfirmation()</text></switch></g></g><g><path d="M 661 389 L 733.63 352.68" fill="none" stroke="#d79b00" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/><path d="M 739 350 L 733.63 357.16 L 733.63 352.68 L 730.06 350 Z" fill="#d79b00" stroke="#d79b00" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(215, 155, 0), rgb(153, 101, 0)); stroke: light-dark(rgb(215, 155, 0), rgb(153, 101, 0));"/></g><g><path d="M 661 409 L 733.82 449.96" fill="none" stroke="#82b366" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/><path d="M 739.05 452.9 L 730.12 452.47 L 733.82 449.96 L 734.04 445.5 Z" fill="#82b366" stroke="#82b366" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(130, 179, 102), rgb(68, 110, 44)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="676" y="319" width="40" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 329px; margin-left: 677px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">handles</div></div></div></foreignObject><text x="696" y="332" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle">handles</text></switch></g></g><g><rect x="676" y="439" width="40" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 449px; margin-left: 677px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">handles</div></div></div></foreignObject><text x="696" y="452" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle">handles</text></switch></g></g><g><rect x="21" y="489" width="80" height="25" rx="3.75" ry="3.75" fill="#f8cecc" stroke="#b85450" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 502px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Transaction 1</div></div></div></foreignObject><text x="61" y="504" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Transaction 1</text></switch></g></g><g><rect x="801" y="404" width="80" height="25" rx="3.75" ry="3.75" fill="#f8cecc" stroke="#b85450" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 417px; margin-left: 802px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Transaction 2</div></div></div></foreignObject><text x="841" y="419" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Transaction 2</text></switch></g></g><g><rect x="801" y="494" width="80" height="25" rx="3.75" ry="3.75" fill="#f8cecc" stroke="#b85450" pointer-events="all" style="fill: light-dark(rgb(248, 206, 204), rgb(81, 45, 43)); stroke: light-dark(rgb(184, 84, 80), rgb(215, 129, 126));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 507px; margin-left: 802px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Transaction 3</div></div></div></foreignObject><text x="841" y="509" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="9px" text-anchor="middle" font-weight="bold">Transaction 3</text></switch></g></g><g><path d="M 481 449 L 651 449 L 681 479 L 681 539 L 481 539 L 481 449 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/><path d="M 651 449 L 651 479 L 681 479 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(237, 237, 237));"/><path d="M 651 449 L 651 479 L 681 479" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 496px; margin-left: 488px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Eventual Consistency<br /><br />Each handler runs in its own transaction.<br />The system will eventually be consistent<br />across all aggregates.</div></div></div></foreignObject><text x="488" y="499" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="10px">Eventual Consistency...</text></switch></g></g><g><rect x="121" y="549" width="200" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 564px; margin-left: 122px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 16px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Why Use Domain Events?</div></div></div></foreignObject><text x="221" y="569" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="16px" text-anchor="middle" font-weight="bold">Why Use Domain Events?</text></switch></g></g><g><rect x="1" y="589" width="200" height="100" rx="15" ry="15" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(218, 232, 252), rgb(29, 41, 59)); stroke: light-dark(rgb(108, 142, 191), rgb(92, 121, 163));"/></g><g><rect x="61" y="599" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 609px; margin-left: 62px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #6c8ebf; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#6c8ebf, #5c79a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Decoupling</div></div></div></foreignObject><text x="101" y="613" fill="#6c8ebf" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Decoupling</text></switch></g></g><g><rect x="16" y="624" width="170" height="55" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 652px; margin-left: 17px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Producer doesn't know about<br />consumers. Add new handlers<br />without changing producer.</div></div></div></foreignObject><text x="101" y="655" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Producer doesn't know about...</text></switch></g></g><g><rect x="221" y="589" width="200" height="100" rx="15" ry="15" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(213, 232, 212), rgb(31, 47, 30)); stroke: light-dark(rgb(130, 179, 102), rgb(68, 110, 44));"/></g><g><rect x="281" y="599" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 609px; margin-left: 282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #82b366; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#82b366, #446e2c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Scalability</div></div></div></foreignObject><text x="321" y="613" fill="#82b366" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Scalability</text></switch></g></g><g><rect x="236" y="624" width="170" height="55" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 652px; margin-left: 237px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Handlers can run in parallel,<br />in different services, or<br />be scaled independently.</div></div></div></foreignObject><text x="321" y="655" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Handlers can run in parallel,...</text></switch></g></g><g><rect x="441" y="589" width="200" height="100" rx="15" ry="15" fill="#fff2cc" stroke="#d6b656" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(255, 242, 204), rgb(40, 29, 0)); stroke: light-dark(rgb(214, 182, 86), rgb(109, 81, 0));"/></g><g><rect x="501" y="599" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 609px; margin-left: 502px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #d6b656; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#d6b656, #6d5100); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Audit Trail</div></div></div></foreignObject><text x="541" y="613" fill="#d6b656" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Audit Trail</text></switch></g></g><g><rect x="456" y="624" width="170" height="55" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 652px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Events create a complete<br />history of what happened.<br />Great for debugging/compliance.</div></div></div></foreignObject><text x="541" y="655" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Events create a complete...</text></switch></g></g><g><rect x="661" y="589" width="200" height="100" rx="15" ry="15" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(225, 213, 231), rgb(57, 47, 63)); stroke: light-dark(rgb(150, 115, 166), rgb(149, 119, 163));"/></g><g><rect x="721" y="599" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 609px; margin-left: 722px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #9673a6; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#9673a6, #9577a3); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Extensibility</div></div></div></foreignObject><text x="761" y="613" fill="#9673a6" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Extensibility</text></switch></g></g><g><rect x="676" y="624" width="170" height="55" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 652px; margin-left: 677px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #666666; "><div style="display: inline-block; font-size: 10px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Add new reactions without<br />modifying existing code.<br />Open/Closed principle.</div></div></div></foreignObject><text x="761" y="655" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="10px" text-anchor="middle">Add new reactions without...</text></switch></g></g><g><rect x="881" y="589" width="220" height="100" rx="15" ry="15" fill="#f5f5f5" stroke="#666666" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><rect x="931" y="599" width="120" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 609px; margin-left: 932px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Implementation Tips</div></div></div></foreignObject><text x="991" y="613" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle" font-weight="bold">Implementation Tips</text></switch></g></g><g><rect x="891" y="624" width="200" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 193px; height: 1px; padding-top: 634px; margin-left: 898px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #666666; "><div style="display: inline-block; font-size: 9px; font-family: &quot;Helvetica&quot;; color: light-dark(#666666, #959595); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">• Store events before publishing<br />• Use Outbox pattern for reliability<br />• Consider Event Sourcing<br />• Handle idempotency in handlers</div></div></div></foreignObject><text x="898" y="643" fill="#666666" font-family="&quot;Helvetica&quot;" font-size="9px">• Store events before publishing...</text></switch></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>