<mxfile host="app.diagrams.net" modified="2024-01-15T10:00:00.000Z" agent="Mozilla/5.0" etag="normalization-indexing" version="22.1.5" type="device">
  <diagram name="Normalization and Indexing" id="normalization-indexing-diagram">
    <mxGraphModel dx="1434" dy="780" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="ðŸ—„ï¸ Database Normalization &amp; Indexing Strategies" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=24;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="600" height="40" as="geometry" />
        </mxCell>

        <!-- Normalization Section -->
        <mxCell id="norm-section" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="660" height="400" as="geometry" />
        </mxCell>
        <mxCell id="norm-title" value="Database Normalization Forms" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=18;fontStyle=1;fontColor=#1a5276;" vertex="1" parent="1">
          <mxGeometry x="200" y="90" width="340" height="30" as="geometry" />
        </mxCell>

        <!-- 1NF -->
        <mxCell id="nf1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="60" y="130" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="nf1-title" value="1NF - First Normal Form" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#196f3d;" vertex="1" parent="1">
          <mxGeometry x="110" y="140" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nf1-rule" value="Rule: Atomic values, no repeating groups" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=10;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="80" y="165" width="260" height="20" as="geometry" />
        </mxCell>

        <!-- Before 1NF -->
        <mxCell id="before1nf" value="Before (Violates 1NF)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontStyle=1;fontColor=#c0392b;" vertex="1" parent="1">
          <mxGeometry x="70" y="185" width="130" height="15" as="geometry" />
        </mxCell>
        <mxCell id="b1nf-table" value="OrderID | Products&#xa;1       | Apple, Orange, Banana" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;fontFamily=Courier New;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="70" y="200" width="180" height="35" as="geometry" />
        </mxCell>

        <!-- After 1NF -->
        <mxCell id="after1nf" value="After (1NF)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontStyle=1;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="70" y="240" width="80" height="15" as="geometry" />
        </mxCell>
        <mxCell id="a1nf-table" value="OrderID | Product&#xa;1       | Apple&#xa;1       | Orange&#xa;1       | Banana" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;fontFamily=Courier New;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="70" y="255" width="130" height="55" as="geometry" />
        </mxCell>

        <!-- 2NF -->
        <mxCell id="nf2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="380" y="130" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="nf2-title" value="2NF - Second Normal Form" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#b7950b;" vertex="1" parent="1">
          <mxGeometry x="420" y="140" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nf2-rule" value="Rule: 1NF + No partial dependencies&#xa;(Non-key depends on WHOLE primary key)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="395" y="165" width="270" height="25" as="geometry" />
        </mxCell>

        <!-- Before 2NF -->
        <mxCell id="before2nf" value="Before (Partial dependency)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontStyle=1;fontColor=#c0392b;" vertex="1" parent="1">
          <mxGeometry x="390" y="190" width="150" height="15" as="geometry" />
        </mxCell>
        <mxCell id="b2nf-table" value="StudentID | CourseID | CourseName&#xa;(CourseName depends only on CourseID)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;fontFamily=Courier New;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="390" y="205" width="240" height="35" as="geometry" />
        </mxCell>

        <!-- After 2NF -->
        <mxCell id="after2nf" value="After (2NF - Split tables)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontStyle=1;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="390" y="245" width="140" height="15" as="geometry" />
        </mxCell>
        <mxCell id="a2nf-t1" value="Enrollments&#xa;StudentID|CourseID" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8;fontFamily=Courier New;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="390" y="260" width="100" height="35" as="geometry" />
        </mxCell>
        <mxCell id="a2nf-t2" value="Courses&#xa;CourseID|CourseName" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8;fontFamily=Courier New;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="510" y="260" width="120" height="35" as="geometry" />
        </mxCell>

        <!-- 3NF -->
        <mxCell id="nf3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="60" y="300" width="300" height="165" as="geometry" />
        </mxCell>
        <mxCell id="nf3-title" value="3NF - Third Normal Form" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#6c3483;" vertex="1" parent="1">
          <mxGeometry x="110" y="310" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nf3-rule" value="Rule: 2NF + No transitive dependencies&#xa;(Non-key depends ONLY on primary key)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="75" y="335" width="270" height="25" as="geometry" />
        </mxCell>

        <!-- Before 3NF -->
        <mxCell id="before3nf" value="Before (Transitive dependency)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontStyle=1;fontColor=#c0392b;" vertex="1" parent="1">
          <mxGeometry x="70" y="360" width="160" height="15" as="geometry" />
        </mxCell>
        <mxCell id="b3nf-table" value="EmpID | DeptID | DeptName&#xa;(DeptName depends on DeptID, not EmpID)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;fontFamily=Courier New;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="70" y="375" width="240" height="35" as="geometry" />
        </mxCell>

        <!-- After 3NF -->
        <mxCell id="after3nf" value="After (3NF)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontStyle=1;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="70" y="415" width="80" height="15" as="geometry" />
        </mxCell>
        <mxCell id="a3nf-t1" value="Employees: EmpID|DeptID" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="70" y="430" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="a3nf-t2" value="Depts: DeptID|DeptName" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="220" y="430" width="130" height="25" as="geometry" />
        </mxCell>

        <!-- Balance Note -->
        <mxCell id="balance-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="380" y="300" width="300" height="165" as="geometry" />
        </mxCell>
        <mxCell id="balance-title" value="Normalization Trade-offs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#b9770e;" vertex="1" parent="1">
          <mxGeometry x="430" y="310" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="balance-content" value="Normalize for WRITES:&#xa;â€¢ Less redundancy&#xa;â€¢ Easier updates&#xa;â€¢ Data integrity&#xa;&#xa;Denormalize for READS:&#xa;â€¢ Fewer JOINs&#xa;â€¢ Better performance&#xa;â€¢ Pre-computed data" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="340" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="balance-tip" value="TIP: Start normalized,&#xa;denormalize when&#xa;performance requires" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=9;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="540" y="360" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- Indexing Section -->
        <mxCell id="index-section" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="720" y="80" width="640" height="400" as="geometry" />
        </mxCell>
        <mxCell id="index-title" value="Indexing Strategies" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=18;fontStyle=1;fontColor=#196f3d;" vertex="1" parent="1">
          <mxGeometry x="940" y="90" width="200" height="30" as="geometry" />
        </mxCell>

        <!-- B-Tree Index -->
        <mxCell id="btree-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="130" width="290" height="120" as="geometry" />
        </mxCell>
        <mxCell id="btree-title" value="B-Tree Index (Default)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#1a5276;" vertex="1" parent="1">
          <mxGeometry x="820" y="135" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="btree-desc" value="â€¢ Equality: WHERE id = 123&#xa;â€¢ Range: WHERE price &gt; 100&#xa;â€¢ Sorting: ORDER BY name&#xa;â€¢ LIKE prefix: WHERE name LIKE 'John%'" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="755" y="160" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="btree-viz" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="960" y="165" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="btree-v2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="940" y="195" width="35" height="15" as="geometry" />
        </mxCell>
        <mxCell id="btree-v3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="985" y="195" width="35" height="15" as="geometry" />
        </mxCell>
        <mxCell id="btree-l1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=1;endArrow=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="975" y="185" as="sourcePoint" />
            <mxPoint x="955" y="195" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="btree-l2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=1;endArrow=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="995" y="185" as="sourcePoint" />
            <mxPoint x="1005" y="195" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Hash Index -->
        <mxCell id="hash-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1050" y="130" width="290" height="120" as="geometry" />
        </mxCell>
        <mxCell id="hash-title" value="Hash Index" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#b7950b;" vertex="1" parent="1">
          <mxGeometry x="1150" y="135" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="hash-desc" value="â€¢ Equality ONLY: WHERE id = 123&#xa;â€¢ O(1) lookup time&#xa;â€¢ NOT for ranges or sorting&#xa;â€¢ Memory-optimized tables" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1065" y="160" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hash-viz" value="key â†’ hash() â†’ bucket" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=8;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="1245" y="175" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- GIN Index -->
        <mxCell id="gin-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="260" width="290" height="100" as="geometry" />
        </mxCell>
        <mxCell id="gin-title" value="GIN Index (Generalized Inverted)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#6c3483;" vertex="1" parent="1">
          <mxGeometry x="780" y="265" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gin-desc" value="â€¢ Arrays: WHERE tags @&gt; '{tech}'&#xa;â€¢ JSONB: WHERE data-&gt;&gt;'key' = 'value'&#xa;â€¢ Full-text search&#xa;â€¢ Composite values" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="755" y="290" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gin-ex" value="CREATE INDEX idx ON t USING GIN(tags)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=8;fontFamily=Courier New;fontColor=#6c3483;" vertex="1" parent="1">
          <mxGeometry x="755" y="340" width="250" height="15" as="geometry" />
        </mxCell>

        <!-- GiST Index -->
        <mxCell id="gist-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1050" y="260" width="290" height="100" as="geometry" />
        </mxCell>
        <mxCell id="gist-title" value="GiST Index (Generalized Search Tree)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#b9770e;" vertex="1" parent="1">
          <mxGeometry x="1080" y="265" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gist-desc" value="â€¢ Geometric data (PostGIS)&#xa;â€¢ Range types&#xa;â€¢ Full-text search (alternative)&#xa;â€¢ Nearest neighbor queries" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1065" y="290" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gist-ex" value="WHERE location &lt;-&gt; point &lt; 1000" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=8;fontFamily=Courier New;fontColor=#b9770e;" vertex="1" parent="1">
          <mxGeometry x="1065" y="340" width="220" height="15" as="geometry" />
        </mxCell>

        <!-- Special Indexes -->
        <mxCell id="special-title" value="Special Index Types" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="920" y="370" width="140" height="20" as="geometry" />
        </mxCell>

        <mxCell id="partial-box" value="Partial Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="395" width="145" height="70" as="geometry" />
        </mxCell>
        <mxCell id="partial-desc" value="Index subset of rows&#xa;WHERE status = 'active'&#xa;Smaller, faster" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="750" y="415" width="125" height="45" as="geometry" />
        </mxCell>

        <mxCell id="covering-box" value="Covering Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="395" width="145" height="70" as="geometry" />
        </mxCell>
        <mxCell id="covering-desc" value="Include extra columns&#xa;INCLUDE (name, price)&#xa;Avoid table lookup" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="910" y="415" width="125" height="45" as="geometry" />
        </mxCell>

        <mxCell id="composite-box" value="Composite Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="395" width="145" height="70" as="geometry" />
        </mxCell>
        <mxCell id="composite-desc" value="Multiple columns&#xa;(customer_id, date)&#xa;Order matters!" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="1070" y="415" width="125" height="45" as="geometry" />
        </mxCell>

        <mxCell id="unique-box" value="Unique Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1220" y="395" width="125" height="70" as="geometry" />
        </mxCell>
        <mxCell id="unique-desc" value="Enforces uniqueness&#xa;PRIMARY KEY&#xa;UNIQUE constraint" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="1225" y="415" width="115" height="45" as="geometry" />
        </mxCell>

        <!-- Index Best Practices -->
        <mxCell id="practices-section" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="500" width="1320" height="180" as="geometry" />
        </mxCell>
        <mxCell id="practices-title" value="Indexing Best Practices &amp; Anti-Patterns" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=16;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="520" y="510" width="360" height="25" as="geometry" />
        </mxCell>

        <!-- Do's -->
        <mxCell id="dos-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="545" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="dos-title" value="DO" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="235" y="550" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dos-list" value="âœ“ Index columns in WHERE, JOIN, ORDER BY&#xa;âœ“ Use composite indexes for multi-column queries&#xa;âœ“ Put selective columns first in composite index&#xa;âœ“ Use partial indexes for filtered queries&#xa;âœ“ Monitor index usage with pg_stat_user_indexes&#xa;âœ“ EXPLAIN ANALYZE before and after adding indexes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="75" y="575" width="370" height="85" as="geometry" />
        </mxCell>

        <!-- Don'ts -->
        <mxCell id="donts-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="545" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="donts-title" value="DON'T" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#c0392b;" vertex="1" parent="1">
          <mxGeometry x="650" y="550" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="donts-list" value="âœ— Index every column (slows writes)&#xa;âœ— Create unused indexes&#xa;âœ— Use functions on indexed columns: WHERE LOWER(name)&#xa;âœ— Forget to update statistics (ANALYZE)&#xa;âœ— Ignore index bloat (REINDEX periodically)&#xa;âœ— Use LIKE '%pattern' (can't use B-tree)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="495" y="575" width="370" height="85" as="geometry" />
        </mxCell>

        <!-- Query Examples -->
        <mxCell id="query-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="545" width="440" height="120" as="geometry" />
        </mxCell>
        <mxCell id="query-title" value="SQL Examples" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#1a5276;" vertex="1" parent="1">
          <mxGeometry x="1070" y="550" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="query-examples" value="-- Composite index (order matters!)&#xa;CREATE INDEX idx_orders ON orders(customer_id, created_at DESC);&#xa;&#xa;-- Partial index for active records&#xa;CREATE INDEX idx_active ON users(email) WHERE active = true;&#xa;&#xa;-- Covering index (avoids heap lookup)&#xa;CREATE INDEX idx_products ON products(category_id) INCLUDE (name, price);" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=8;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="915" y="575" width="410" height="85" as="geometry" />
        </mxCell>

        <!-- Footer Note -->
        <mxCell id="footer" value="Key Insight: Indexes speed up reads but slow down writes. Balance based on your workload (read-heavy vs write-heavy)." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=10;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="400" y="690" width="600" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
